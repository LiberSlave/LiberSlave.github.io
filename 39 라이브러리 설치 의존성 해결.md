원인

- PyTorch 인덱스에서 markupsafe = = 3.0.2(cp313 전용) 를 집어오며 Python 3.11(cp311)과 호환 불가.

해결 순서(권장)

1. PyPI를 기본, PyTorch는 보조 인덱스로 두고, 인덱스 전략을 unsafe-best-match로 지정


```
uv add --index https://pypi.org/simple --extra-index-url https://download.pytorch.org/whl/cu121 --index-strategy unsafe-best-match torch torchvision torchaudio

uv add transformers
```

"**기본(Primary) 저장소는 무조건 PyPI(--index ...)야.** 일단 여기서 모든 걸 찾아봐. 만약 PyPI에 없는 패키지가 있다면, **그때서야 보조(Extra) 저장소인 PyTorch 저장소(--extra-index-url ...)를 확인해봐.**"



## cpu -> gpu 버전으로 바꾸기


uv add "torch @ https://download.pytorch.org/whl/cu121/torch-2.4.1%2Bcu121-cp311-cp311-win_amd64.whl"

uv add `
  "torchvision @ https://download.pytorch.org/whl/cu121/torchvision-0.19.1%2Bcu121-cp311-cp311-win_amd64.whl" `
  "torchaudio @ https://download.pytorch.org/whl/cu121/torchaudio-2.4.1%2Bcu121-cp311-cp311-win_amd64.whl"